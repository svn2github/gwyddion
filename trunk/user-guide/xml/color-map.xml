<?xml version='1.0' encoding='utf-8'?>
<!-- @(#) $Id$ -->
<!DOCTYPE book PUBLIC '-//OASIS//DTD DocBook XML V4.2//EN'
               'http://www.oasis-open.org/docbook/xml/4.2/docbookx.dtd'>
<sect1 id="color-map">
  <title>False Color Mapping</title>
  <para>
    False color mapping is the basic two-dimensional data visualization
    method.  The color gradient (also called palette) to use can be selected
    after clicking on the false color map part of a data window with right
    mouse button.
  </para>
  <para>
    This quick selection pop-up menu offers the list of preferred color
    gradients.  In addition it allows to invoke the full color gradient list
    by selecting <menuchoice><guimenuitem>More</guimenuitem></menuchoice>.
    Preferred gradients can be chosen by checking the corresponding check
    buttons in the full list or in the
    <link linkend="color-gradient-editor">gradient editor</link> list.
    Selecting a row in the full list changes the gradient to the selected
    one, double-clicking also finishes selection and closes the list window.
  </para>
  <para>
    More control over the way values are mapped to colors is possible with
    <link linkend="color-range">Color range</link> tool.
  </para>
  <sect2 id="color-range">
    <title>
      Color Range Tool
      <guiicon><inlinegraphic fileref="gwy_color_range-24.png"/></guiicon>
    </title>
    <para>
      Color range tool is a special <link linkend="tools">tool</link> whose
      purpose is not to analyse or modify data, but to control the way values
      are mapped to colors.  It offers four basic color mapping modes:
    </para>
    <variablelist>
      <varlistentry>
        <term>
          Full
          <guiicon><inlinegraphic fileref="gwy_color_range_full-24.png"/></guiicon>
        </term>
        <listitem>
          <para>
            Data values are mapped to colors linearly, the full data range
            corresponds to the full color range.  This is the default mode
            (unless you have changed the default).
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Fixed
          <guiicon><inlinegraphic fileref="gwy_color_range_fixed-24.png"/></guiicon>
        </term>
        <listitem>
          <para>
            Data values are mapped to colors linearly, a user-specified data
            range (which can be smaller or greater than the full range) maps
            onto the full color range.  Values outside this range are
            displayed with the edge colors.  The range can be set by several
            means:
          </para>
          <itemizedlist>
            <listitem>
              by entering desired values numerically in the tool window,
            </listitem>
            <listitem>
              by selecting a range on the height distribution graph in the
              tool window or
            </listitem>
            <listitem>
              by selecting an area on the data window, the range is then
              set from the minimum to maximum of the data in this area only.
            </listitem>
          </itemizedlist>
          <para>
            If no range is manually set, fixed range mode behaves identically
            to full range.
          </para>
          <para>
            Note data processing operations often modify the value range –
            and as the fixed range remains fixed as you set it, it can result
            for instance in completely black data display.  You may wish or
            have to update the mapping manually then, or to switch to another
            mode.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Automatic
          <guiicon><inlinegraphic fileref="gwy_color_range_auto-24.png"/></guiicon>
        </term>
        <listitem>
          <para>
            Data values are mapped to colors linearly, a heuristically
            determined subinterval of the full value range maps onto the full
            color range.  Values outside this subrange are again displayed
            with the edge colors.
          </para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          Adaptive
          <guiicon><inlinegraphic fileref="gwy_color_range_adaptive-24.png"/></guiicon>
        </term>
        <listitem>
          <para>
            The full data range corresponds to the full color range, however
            data values are mapped to colors non-linearly.  The mapping
            function is based on inverse cumulative height distribution,
            therefore flat areas generally get bigger slice of the color
            gradient and smaller value variations can be seen on them than
            normally.
          </para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>
      A mode can be set to be default by checking the
      <guilabel>Default</guilabel> check button when it is active.  Newly
      displayed data windows then use this mode, unless a channel explicitly
      specifies other mode to use.
    </para>
    <para>
      Saving data to <filename>.gwy</filename> file also saves all color
      mapping settings: mode, range and gradient.  Gradient is however not
      physically stored in the file, only referenced by name.  In other
      words, color gradients of the same name are shared among files.
    </para>
  </sect2>
</sect1>
