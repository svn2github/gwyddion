<?xml version="1.0" encoding="utf-8"?>
<!-- @(#) $Id: color-map.xml 9429 2009-07-14 21:11:45Z yeti-dn $ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="color-map">
  <title>Наложение псевдоцвета</title>
  <indexterm>
    <primary>цвет</primary>
    <secondary>наложение</secondary>
  </indexterm>
  <para>Наложение псевдоцвета - основной метод визуализации двумерных данных. Используемый цветовой градиент (также называемый палитрой)  может быть выбран с помощью щелчка правой кнопкой мыши на ту часть окна данных, где отображается карта псевдоцвета.</para>
  <para>Выпадающее меню быстрого выбора предлагает список предпочтительных градиентов псевдоцвета. Кроме того, оно позволяет вызвать полный список градиентов с помощью пункта меню <menuchoice><guimenuitem>Дополнительно</guimenuitem></menuchoice>. Предпочтительные градиенты могут быть выбраны с помощью флажков в полном списке или в списке <link linkend="color-gradient-editor">редактора градиентов</link>. Выбор строки в полном списке меняет градиент на выбранный, двойной щелчок (или нажатие <keycap>Enter</keycap>) также заканчивает выбор и закрывает окно списка. Градиенты с известными именами могут быть быстро выбраны набором начальных букв названия. Градиент по умолчанию (если он не указан в файле) также может быть установлен в <link linkend="color-gradient-editor">редакторе градиентов</link>.</para>
  <para>Дополнительный контроль над тем, как значения отображаются на цвет возможен с помощью инструмента <link linkend="color-range">Цветовой диапазон</link></para>
  <informalfigure id="fig-gradient-selectors">
    <mediaobject>
      <imageobject>
        <imagedata fileref="gradient-selectors.png" format="PNG"/>
      </imageobject>
      <textobject>
        <phrase>Сравнение методов обнаружения края и ступени на нескольких изображениях</phrase>
      </textobject>
      <caption>Окно данных с выпадающим по щелчку правой кнопкой мыши меню градиентов и полным списком градиентов псевдоцвета.</caption>
    </mediaobject>
  </informalfigure>
  <sect2 id="color-range">
    <title>Инструмент <quote>диапазон цвета</quote> <guiicon><inlinemediaobject><imageobject><imagedata fileref="gwy_color_range-24.png" format="PNG"/></imageobject></inlinemediaobject></guiicon></title>
    <para>Инструмент <quote>диапазон цвета</quote> - специальный <link linkend="tools">инструмент</link>, назначением которого является не анализ или модификация данных, а контроль над тем, как данные отображаются на псевдоцвет. Он предлагает четыре основных способа отображения:</para>
    <variablelist>
      <varlistentry>
        <term>Полный <guiicon><inlinemediaobject><imageobject><imagedata fileref="gwy_color_range_full-24.png" format="PNG"/></imageobject></inlinemediaobject></guiicon></term>
        <listitem>
          <para>Значения данных линейно масштабируются на псевдоцвета, полный диапазон значений данных соответствует полному диапазону значений псевдоцвета. Этот тип включен по умолчанию (если вы не меняли эту настройку).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Фиксированный <guiicon><inlinemediaobject><imageobject><imagedata fileref="gwy_color_range_fixed-24.png" format="PNG"/></imageobject></inlinemediaobject></guiicon></term>
        <listitem>
          <para>Значения данных отображаются на значения цвета линейно, заданный пользователем диапазон данных (который может быть как меньше, так и больше полного) отображается на полный диапазон цвета. Данные вне диапазона отображаются цветом его краёв. Диапазон может быть задан несколькими способами:</para>
          <itemizedlist>
            <listitem>вводом желаемых данных численно в окне инструмента,</listitem>
            <listitem>выбором диапазона на графике распределения высот в окне инструмента или</listitem>
            <listitem>выбором области в окне данных, диапазон затем устанавливается по минимальному и максимальному значениям внутри этой области.</listitem>
          </itemizedlist>
          <para>Если диапазон не задан вручную, фиксированный диапазон ведёт себя подобно полному.</para>
          <para>Следует заметить, что операции обработки данных нередко изменяют диапазон значений - и поскольку фиксированный диапазон остаётся таким, каким он был задан, это может привести, например, к полностью чёрному окну данных. В таком случае можно обновить диапазон вручную или переключиться на другой тип отображения.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Автоматический <guiicon><inlinemediaobject><imageobject><imagedata fileref="gwy_color_range_auto-24.png" format="PNG"/></imageobject></inlinemediaobject></guiicon></term>
        <listitem>
          <para>Значения данных отображаются на цветовой диапазон линейно, эвристически определённый подинтервал полного диапазона данных отображается на полный диапазон цвета. Значения вне этого подинтервала отображаются цветом на границе диапазона.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Адаптивный <guiicon><inlinemediaobject><imageobject><imagedata fileref="gwy_color_range_adaptive-24.png" format="PNG"/></imageobject></inlinemediaobject></guiicon></term>
        <listitem>
          <para>Полный диапазон данных соответствует полному диапазону цвета, однако, значения данных отображаются на значения цвета нелинейно. Функция отображения основана на инверсной кумулятивной функции распределения высоты, следовательно плоские области в среднем получают большую часть цветового градиента и меньшие изменения значения видны на них лучше, чем обычно.</para>
          <para>Полоса градиента псевдоцвета с правой стороны от <link linkend="data-windows">окон данных</link> в этом режиме не отображает никаких значений, кроме минимума и максимума.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Тип отображения может быть установлен для использования по умолчанию с помощью флажка <guilabel>По умолчанию</guilabel> когда он активен. Новые окна данных затем будут использовать этот тип если канал не задаёт принудительно использование других типов.</para>
    <para>Сохранение данных в файл <filename>.gwy</filename> также сохраняет все настройки отображения псевдоцвета: тип отображения, диапазон и градиент. Градиент, однако, не сохраняется в файл, а только ссылается по имени. Другими словами, одноимённые градиенты являются общими для разных файлов.</para>
  </sect2>
  <sect2 id="color-gradient-editor">
    <title>Редактор цветовых градиентов</title>
    <indexterm>
      <primary>карта цвета</primary>
      <secondary>редактирование</secondary>
    </indexterm>
    <indexterm>
      <primary>карта цвета</primary>
      <secondary>выбор умолчаний</secondary>
    </indexterm>
    <para>Редактор цветовых градиентов может быть вызван с помощью <menuchoice><guimenu>Правка</guimenu><guimenuitem>Цветовые градиенты</guimenuitem></menuchoice>. Он содержит список градиентов подобный полному окну выбора градиента, с дополнительной панелью кнопок, настоящий редактор может быть вызван двойным щелчком по градиенту, который нужно изменить или при нажатии кнопки <guilabel>Редактировать</guilabel>. Для редактирования и удаления доступны только градиенты, созданные пользователем, системные являются неизменяемыми.</para>
    <para>Последняя кнопка в панели управления списком градиентов делает текущий выбранный градиент градиентом по умолчанию. Он будет использоваться для всех новых отображаемых данных, для которых не указан определённый градиент.</para>
    <para>Доступны два режима редактирования: <variablelist><varlistentry><term>По точкам</term><listitem><para> Цветовой градиент определяется набором точек и заданными в них цветами. Точки представлены треугольными маркерами на градиенте, отображаемом в нижней части окна редактора. Перемещение этих маркеров перемещает точки, новые точки могут быть добавлены щелчком по пустому месту, существующие точки могут быть удалены утаскиванием их с градиента. </para></listitem></varlistentry><varlistentry><term>Кривая</term><listitem><para> Цветовой градиент определяется кривыми красного, зелёного и синего. Кривые также разделены на сегменты, но эти сегменты не обязательно должны совпадать. </para></listitem></varlistentry></variablelist></para>
  </sect2>
</sect1>
<!-- vim: set ts=2 sw=2 et : -->
