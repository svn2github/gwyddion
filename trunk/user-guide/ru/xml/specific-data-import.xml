<?xml version="1.0" encoding="utf-8"?>
<!-- @(#) $Id: specific-data-import.xml 10335 2009-11-01 21:54:24Z yeti-dn $ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="specific-data-import">
  <title>Импорт особых данных</title>
  <para>импорт некоторых других типов данных не происходит автоматически и требует вмешательства человека.</para>
  <sect2 id="pixmap-file-import">
    <title>Графические форматы</title>
    <para>Импорт данных из файлов изображений, таких как PNG, TIFF, JPEG и BMP похож на импорт необработанных данных/неизвестных форматов файлов, только происходит проще.</para>
    <para>Он проще поскольку структура файла известна и формат файла определяется автоматически. Следовательно тип файла не требуется явно указывать. Однако, интерпретация данных по прежнему неизвестна и должна быть задана вручную. Диалоговое окно импорта изображений следовательно напоминает вкладку <guilabel>Информация</guilabel> импорта необработанных файлов и требует от вас задания физических размеров и масштаба значений.</para>
    <para>Следует отметить, что физические размеры, подсказываемые здесь не получены из файла, это просто последние использованные значения. Некоторые форматы данных СЗМ основаны на формате изображений (обычно, в основе лежит TIFF) и содержат информацию о физических размерах и единицах измерения, хотя и сохранённых придуманным изготовителем особым способом. В этом случае отдельный модуль импорта может быть написан для этого особого формата чтобы загружать файлы автоматически с правильно масштабированными значениями.</para>
  </sect2>
  <sect2 id="graph-curve-import">
    <title>Кривые графиков</title>
    <para>Простые текстовые файлы в две колонки, содержащие данные кривых, могут быть импортированы как кривые графиков. В некоторых случаях эти фалы могут распознаваться автоматически. Также они могут быть явно выбраны как <guilabel>Файлы ASCII с кривой графика</guilabel> в диалоговом окне открытия файлов, заставляя модуль импорта сильнее стараться загрузить этот файл как данные графика.</para>
    <para>Диалоговое окно импорта показывает предпросмотр графика и позволяет задать единицы измерения и подписи к осям.</para>
  </sect2>
  <sect2 id="raw-xyz-import">
    <title>Данные XYZ</title>
    <indexterm>
      <primary>данные XYZ</primary>
    </indexterm>
    <para>Текстовые файлы в три колонки, содержащие данные XYZ, импортируются выбором типа файла <guilabel>Импорт файлов данных XYZ</guilabel>. Снова, они могут распознаваться автоматически, но задание в явном виде формата файла заставляет модуль сильнее стараться загрузить файл как данные XYZ.</para>
    <para>Поскольку Gwyddion работает только с данными на правильной сетке, неправильные данные XYZ должны интерполироваться на правильную сетку при импорте. В действительности модуль импорта данных XYZ служит для двух различных предназначений:</para>
    <itemizedlist>
      <listitem>загрузки данных на регулярной сетке, которые просто были сохранены как данные XYZ – если обнаруживается, что данные ложатся на регулярную сетку показывается только очень простое диалоговое окно, где можно задать единицы измерения, поскольку импорт таких данных достаточно прямолинеен;</listitem>
      <listitem>упорядочения и интерполяции неправильных данных XYZ – этот вариант не столь прямолинеен и оставшаяся часть раздела будет посвящена возможным опциям и некоторым возможным подводным камням.</listitem>
    </itemizedlist>
    <para>Диалоговое окно импорта позволяет задать основные параметры, такие как разрешение и диапазон упорядоченных данных, пространственные единицы измерения и единицы значений. Однако, наиболее важной опцией является <guilabel>Тип интерполяции</guilabel>:</para>
    <variablelist>
      <varlistentry>
        <term>Округление</term>
        <listitem>
          <para>Этот вариант интерполяции аналогичен интерполяции округлением для правильных сеток. Интерполированное значение в точке на плоскости равно значению ближайшей точки в наборе точек XYZ. Это означает. что проводится триангуляция Вороного и каждая ячейка Вороного <quote>заполняется</quote> значением ближайшей точки.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Линейная</term>
        <listitem>
          <para>Этот вид интерполяции аналогичен линейной интерполяции для правильных сеток. Интерполированное значение в точке рассчитывается из значений трёх вершин треугольника триангуляции Делоне, содержащего точку. Поскольку три вершины определяют плоскость в пространстве уникальным образом, значение в точке определяется этой плоскостью.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Поле</term>
        <listitem>
          <para>Значение в точке будет взвешенным средним всего набора точек XYZ, где вес обратно пропорционален четвёртой степени расстояния. Поскольку для каждой интерполированной точки рассматриваются все точки данных XYZ, этот метод может оказаться очень медленным.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Первые два типа интерполяции основаны на триангуляции Делоне/Вороного, которая не определена хорошо для набора точек, где более двух точек лежит на одной линии или более трёх лежит на окружности. Если такое случается триангуляция заканчивается неудачно и модуль импорта показывает сообщение об ошибке.</para>
    <para>Значения вне выпуклой оболочки множества точек XYZ на плоскости описываются опцией <guilabel>Тип внешней части</guilabel>:</para>
    <variablelist>
      <varlistentry>
        <term>Граничный</term>
        <listitem>
          <para>Набор точек не меняется никоим образом и значения на выпуклой оболочке просто расширяются на бесконечность.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Зеркальный</term>
        <listitem>
          <para>Набор точек дополняется точками, <quote>отраженными</quote> сторонами ограничивающего параллелепипеда.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>Периодический</term>
        <listitem>
          <para>Набор точек дополняется периодически повторяющимися точками из окрестности противоположной стороны ограничивающего параллелепипеда.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <informalfigure id="fig-triangulation">
      <mediaobject>
        <imageobject>
          <imagedata fileref="triangulation.pdf" format="PDF"/>
        </imageobject>
        <imageobject>
          <imagedata fileref="triangulation.png" format="PNG"/>
        </imageobject>
        <caption>Триангуляция Делоне показанная на линейной интерполяции (слева), интерполяции округлением (по центру) и по всему полю (справа) неправильного набора точек.</caption>
      </mediaobject>
    </informalfigure>
  </sect2>
</sect1>
<!-- vim: set ts=2 sw=2 et : -->
