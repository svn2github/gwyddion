<?xml version="1.0" encoding="utf-8"?>
<!-- @(#) $Id$ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="logging">
  <title>Журналирование</title>
  <para>Gwyddion записывает операции изменения данных для каждого канала или каждого блока объёмных данных в так называемый журнал. При сохранении данных в файл <filename>.gwy</filename>, журнал сохраняется вместе с ними. Журнал можно вывести на экран выбрав команду <guimenuitem>Просмотр журнала</guimenuitem> в контекстном меню, открываемом при щелчке правой кнопкой мыши по окну канала обычных или объёмных данных. Это может быть полезно чтобы позднее вспомнить какие коррекции данных были произведены, каким образом создавалась маска или презентация, и т.п. Следует отметить, что данные журнала являются информационными, они не предназначены и не подходят для учёта, слежки или контроля работы.</para>
  <para>Открыт просмотр журнала: если оставить его открытым, можно видеть как туда добавляются операции обработки данных по мере их использования.</para>
  <para>Простой пример журналирования представлен на следующем рисунке. Для каждой операции записывается её тип, название, параметры и время. Тип может быть, например, операцией импорта файла, функцией обработки данных или применением инструмента из меню. Имена функции соответствуют показанным в окне просмотра модулей (<menuchoice><guimenu>Информация</guimenu><guimenuitem>Просмотр модулей</guimenuitem></menuchoice>), где они указаны в разделе <guilabel>Зарегистрированные функции</guilabel> для каждого модуля; или в <ulink url="http://gwyddion.net/module-list.php">онлайновом списке модулей</ulink>. Список параметров представляет настройки функции во время её использования. Поскольку журнал является исключительно информативным, параметры могут позволять, а могут и не позволить восстановить или повторить применяемую функцию. Для обычных простых операций их должно быть достаточно. Для сложных или интерактивных операций, тех, в которых участвует несколько каналов, глубины деталировки журнала может не хватить. Время записывается как местное в данном часовом поясе в момент применения операции, оно не пересчитывается при пересылке файла в другие части света и при открытии его в другом часовом поясе.</para>
  <informalfigure id="fig-log-viewer">
    <mediaobject>
      <imageobject>
        <imagedata fileref="log-viewer.png" format="PNG"/>
      </imageobject>
      <caption>Просмотр журнала демонстрирует простой журнал обработки данных для канала, начиная от импорта его из фирменного формата установки СЗМ и продолжая применением функций обработки данных, инструментов и отменой операций.</caption>
    </mediaobject>
  </informalfigure>
  <para>Весь файл журнала может быть экспортирован в текстовый файл используя кнопку <guibutton>Экспорт</guibutton>. Нельзя менять элементы журнала, поскольку это в какой-то мере противоречит идее его использования, но можно удалить журнал целиком кнопкой <guibutton>Очистить</guibutton>.</para>
  <sect2 id="logging-disabling">
    <title>Отключение журналирования</title>
    <para>В некоторых случаях может потребоваться сохранить или опубликовать файлы <filename>.gwy</filename> без журналов. Следовательно, журналирование управляется на нескольких уровнях: <itemizedlist>
        <listitem>
          <para>Журналирование можно включить и выключить глобально используя пункт меню <menuchoice><guimenu>Правка</guimenu><guimenuitem>Включить журналирование</guimenuitem></menuchoice>. При отключенном журналировании новые элементы не добавляются в журнал. Имеющиеся журналы при этом не удаляются и их по прежнему можно просмотреть. Они также по прежнему будут сохраняться в файлы <filename>.gwy</filename>.</para>
        </listitem>
        <listitem>
          <para>Журнал для определённого канала или объёмных данных можно очистить кнопкой <guibutton>Очистить</guibutton> в окне просмотра.</para>
        </listitem>
        <listitem>
          <para>Все журналы в текущем файле можно удалить с помощью пункта меню <menuchoice><guimenu>Файл</guimenu><guimenuitem>Удалить все журналы</guimenuitem></menuchoice>. Как и с любой другой операцией над файлами, файл нужно после этого сохранить, чтобы удаление журнала повлияло на файл, сохранённый на диске. И, естественно, если журналирование осталось включено и вы продолжите редактирование данных, будут созданы новые журналы и новые операции будут снова записаны туда.</para>
        </listitem>
      </itemizedlist></para>
  </sect2>
</sect1>
<!-- vim: set ts=2 sw=2 et : -->
