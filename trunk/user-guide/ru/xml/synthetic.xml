<?xml version="1.0" encoding="utf-8"?>
<!-- @(#) $Id: synthetic.xml 11492 2010-11-01 10:15:43Z yeti-dn $ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 xmlns:xi="http://www.w3.org/2001/XInclude" id="synthetic">
  <title>Синтетические поверхности</title>
  <para>Помимо функций для анализа измеренных данных, Gwyddion предлагает несколько генераторов искусственных поверхностей, которые можно использовать для тестирования или моделирования также и вне Gwyddion.</para>
  <para>Все генераторы поверхностей делят некоторый набор параметров, определяющих размеры и масштабы созданной поверхности и элементов управления генератором случайных чисел. Эти параметры описаны ниже, параметры, специфичные для каждого генератора описаны в соответствующих подразделах.</para>
  <para>Параметры изображения:</para>
  <variablelist>
    <varlistentry>
      <term>
        <guilabel>Горизонтальный, вертикальный размер</guilabel>
      </term>
      <listitem>
        <para>Горизонтальное и вертикальное разрешение создаваемой поверхности в пикселях.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Квадратное изображение</guilabel>
      </term>
      <listitem>
        <para>Включение этой опции делает горизонтальное и вертикальное разрешения одинаковыми.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Ширина, высота</guilabel>
      </term>
      <listitem>
        <para>Горизонтальные и вертикальные физические размеры создаваемой поверхности в выбранных единицах. Следует отметить, что квадратные пиксели считаются таковыми, изменение одного параметра ведёт к изменению другого.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Единицы измерения пространства и значений</guilabel>
      </term>
      <listitem>
        <para>Единицы измерения пространственных размеров (<guilabel>Ширина</guilabel>, <guilabel>Высота</guilabel>) и значений (высот). Выбранные здесь единицы измерения также определяют единицы измерения не безразмерных параметров отдельных генераторов.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guibutton><guilabel>Взять размеры текущего канала</guilabel></guibutton>
      </term>
      <listitem>
        <para>Нажатие этой кнопки приводит к заполнению всех вышеперечисленных параметров в соответствии с текущим каналом.</para>
        <para>Следует отметить, что хотя единицы измерения значений обновляются, масштаб значений определяется зависящими от генератора параметрами, которые могут не выводиться напрямую из статистических свойств текущего канала. Следовательно, эти параметры не пересчитываются.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Заменить текущий канал</guilabel>
      </term>
      <listitem>
        <para>Эта опция имеет двойной эффект. Во первых, она заставляет размеры и масштабы автоматически устанавливаться равными текущему каналу. Во вторых, при этом генерируемая поверхность заменяет текущий канал вместо создания нового.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Начать с текущего канала</guilabel>
      </term>
      <listitem>
        <para>Эта опция имеет двойной эффект. Во первых, она заставляет размеры и масштабы автоматически устанавливаться равными текущему активному каналу. Во вторых, она заставляет генератор начать с поверхности, содержащейся в текущем канале и модифицировать её вместо плоской поверхности. Следует отметить, что это не влияет на то, будет ли результат записан в текущий канал или будет создан новый канал.</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>Элементы управления генератором случайных чисел:</para>
  <variablelist>
    <varlistentry>
      <term>
        <guilabel>Случайное зерно</guilabel>
      </term>
      <listitem>
        <para>Начальное число генератора случайных чисел. При выборе тех же параметров и разрешений и того же начального числа генерируется та же самая поверхность, даже на разных компьютерах. Различные начальные числа приводят к генерации разных поверхностей с теми же общими характеристиками, заданными параметрами генератора.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guibutton><guilabel>Новый</guilabel></guibutton>
      </term>
      <listitem>
        <para>Заменяет начальное число случайным.</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>
        <guilabel>Сделать случайным</guilabel>
      </term>
      <listitem>
        <para>Включение этой опции приводит к тому, что начальное число выбирается случайно при каждом запуске генератора. Это позволяет удобно перезапускать генератор просто нажимая <keycap>Ctrl-F</keycap> (см. раздел <link linkend="keyboard-shortcuts">клавиатурные сокращения</link>).</para>
      </listitem>
    </varlistentry>
  </variablelist>
  <para>Все генерируемые поверхности являются периодическими (т.е. они идеально складываются в мозаику).</para>
  <sect2 id="spectral-synthetis">
    <title>Спектральный</title>
    <para>Модуль спектрального синтеза создаёт случайно шероховатые поверхности созданием преобразования Фурье поверхности в соответствии с заданными параметрами и затем применением обратного преобразования Фурье для получения реальной поверхности.</para>
    <para>Параметры Фурье-образа определяют форму функции спектральной плотности мощности, т.е. модулей коэффициентов Фурье, фазы задаются случайно. В настоящий момент все создаваемые поверхности изотропны, т.е. функция спектральной плотности мощности радиально симметрична.</para>
    <variablelist>
      <varlistentry>
        <term>
          <guilabel>Ср. квадр.</guilabel>
        </term>
        <listitem>
          <para>Среднеквадратичное значение высот (или отличий от средней плоскости, которая, однако, всегда является плоскостью <xi:include href="eqi-z-is-0.xml"/>). Кнопка <guilabel>как у текущего канала</guilabel> устанавливает значение среднеквадратичного отклонения на это значение у текущего канала.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Минимальная, максимальная частота</guilabel>
        </term>
        <listitem>
          <para>Минимальная и максимальная пространственные частоты. Увеличение минимальной частоты ведёт к <quote>уплощению</quote> изображения, т.е. удалению крупных выделяющихся частей. Уменьшение максимальной частоты ограничивает остроту выступающих частей.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Разрешить гауссов множитель</guilabel>
        </term>
        <listitem>
          <para>Включает умножение коэффициентов Фурье на гауссову функцию, что в реальном пространстве соответствует свёртке с гауссианом.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Длина автокорреляции</guilabel>
        </term>
        <listitem>
          <para>Длина автокорреляции гауссиана (см. раздел <link linkend="autocorrelation-1d">Статистический анализ</link> для подробного обсуждения функций автокорреляции).</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Разрешить степенной множитель</guilabel>
        </term>
        <listitem>
          <para>Включает умножение на множитель, пропорциональный <xi:include href="eqi-1-over-k-to-p.xml"/>, где <xi:include href="eqi-k.xml"/> - пространственная частота и <xi:include href="eqi-p.xml"/> - степень. Это позволяет создавать различные фрактальные поверхности.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Степень</guilabel>
        </term>
        <listitem>
          <para>Степень <xi:include href="eqi-p.xml"/>.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <informalfigure id="fig-synthetic-spectral">
      <mediaobject>
        <imageobject>
          <imagedata fileref="synthetic-spectral.png" format="PNG"/>
        </imageobject>
        <caption>Искусственные поверхности созданные спектральным синтезом: узкий диапазон пространственных частот (слева), гауссова случайная поверхность (по центру) и фрактальная поверхность, созданная со степенным множителем и <xi:include href="eqi-p.xml"/> равными 1,5 (справа).</caption>
      </mediaobject>
    </informalfigure>
  </sect2>
  <sect2 id="object-synthetis">
    <title>Объекты</title>
    <para>Метод размещения объектов позволяет создавать случайные поверхности, состоящие из выступающих частей определённой формы. Алгоритм прост: заданное число объектов помещается в случайные места поверхности. Для каждого из размещаемых объектов, новые высоты меняются на <xi:include href="eqi-max-z-z_0-plus-h.xml"/>, где <xi:include href="eqi-z.xml"/> - текущая высота отдельной точки, <xi:include href="eqi-h.xml"/> - высота объекта в этой точке (подразумевая нулевой базис) и <xi:include href="eqi-z_0.xml"/> - текущая минимальная высота над базисом помещаемого объекта.</para>
    <variablelist>
      <varlistentry>
        <term>
          <guilabel>Форма</guilabel>
        </term>
        <listitem>
          <para>Форма (вид) помещаемых объектов. В настоящее время можно использовать полусферы, коробки, пирамиды, тетраэдры и некоторые более странные формы.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Покрытие</guilabel>
        </term>
        <listitem>
          <para>Среднее количество раз, которое объект перекрывает пиксель изображения. Значение покрытия 1 означает что поверхность будет ровно один раз покрыта объектами, при этом они будут покрывать её равномерно. Большие значения означают больше слоёв объектов и более медленную генерацию изображения.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Размер</guilabel>
        </term>
        <listitem>
          <para>Размер объекта, обычно сторона описанного квадрата.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Пропорции</guilabel>
        </term>
        <listitem>
          <para>Соотношение между размерами по <xi:include href="eqi-x.xml"/> и <xi:include href="eqi-y.xml"/> объекта по отношению к одинаковым базовым пропорциям.</para>
          <para>Изменение соотношения сторон не всегда подразумевает простое геометрическое масштабирование, например, объекты, называемые частицами меняют форму от полусфер до стержней при изменении соотношения сторон.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Высота</guilabel>
        </term>
        <listitem>
          <para>Величина, пропорциональная высоте объекта, обычно высота самой высокой точки.</para>
          <para>Выбор опции <guilabel>Масштабируется с размером</guilabel> заставляет невозмущённые высоты масштабироваться пропорционально размеру объекта. В противном случае высота не зависит от размера.</para>
          <para>Кнопка <guilabel>как у текущего канала</guilabel> устанавливает значение высоты равным значению, основанном на среднеквадратичном отклонении текущего канала.</para>
        </listitem>
      </varlistentry>
      <varlistentry>
        <term>
          <guilabel>Ориентация</guilabel>
        </term>
        <listitem>
          <para>Поворот объектов по отношению к определённой исходной ориентации, измеренный против часовой.</para>
        </listitem>
      </varlistentry>
    </variablelist>
    <para>Каждый параметр может быть задан случайно для отдельных объектов, это задаётся опцией <guilabel>Разброс</guilabel>. Для мультипликативных величин (все, кроме ориентации), распределение логарифмически нормальное со значением среднеквадратичного отклонения логарифма величины заданным параметром <guilabel>Разброс</guilabel>.</para>
    <informalfigure id="fig-synthetic-objects">
      <mediaobject>
        <imageobject>
          <imagedata fileref="synthetic-objects.png" format="PNG"/>
        </imageobject>
        <caption>Искусственные поверхности, созданные размещением объектов: сфер различного размера (слева), узких камышовых листьев различного направления (по центру), частицы с различным соотношением сторон (справа).</caption>
      </mediaobject>
    </informalfigure>
  </sect2>
</sect1>
<!-- vim: set ts=2 sw=2 et : -->
