<?xml version="1.0" encoding="utf-8"?>
<!-- @(#) $Id: managing-files.xml 10335 2009-11-01 21:54:24Z yeti-dn $ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd">
<sect1 id="managing-files">
  <title>Управление файлами</title>
  <para>
    Gwyddion uses its <link linkend="gwyfile-format">custom data format</link>
    (<filename>.gwy</filename>) to store data.  This format has the following
    important advantages:
    <itemizedlist>
      <listitem>
        Capability to store the complete state of the individual data,
        including masks, selections and other properties.
      </listitem>
      <listitem>
        Arbitrary number of channels, graphs and spectrum sets, with arbitrary
        dimensions and units of both dimensions and values.
      </listitem>
      <listitem>
        Double-precision representation of all data, preventing information
        loss due to rounding.
      </listitem>
    </itemizedlist>
    Therefore, we recommned to use this format for saving of processed files.
  </para>
  <para>Другие форматы файлов данных обрабатываются соответствующими модулями загрузи и сохранения файлов. Помимо большого числа файловых форматов, используемых в сканирующей зондовой микроскопии, могут также быть импортированы графические файлы (PNG, JPEG, TIFF, TARGA) и необработанные двоичные и текстовые данные. Если ваш формат данных СЗМ ещё не поддерживается Gwyddion или загружается некорректно, мы рекомендуем вам или написать модуль импорта (если есть такая возможность), или связаться с разработчиками чтобы помочь им улучшить поддержку.</para>
  <para><link linkend="file-formats">Список поддерживаемых форматов файлов</link> приведён в разделе Сводки и таблицы.</para>
  <sect2 id="file-loading">
    <title>Загрузка файлов</title>
    <indexterm>
      <primary>файл</primary>
      <primary>загрузка</primary>
    </indexterm>
    <para>Файлы открываются с помощью меню <menuchoice><guimenu>Файл</guimenu><guisubmenu>Открыть</guisubmenu></menuchoice>. Тип файла определяется автоматически, основываясь только на его содержимом. Поскольку одни и те же расширения такие, как <filename>.img</filename>, <filename>.afm</filename> или <filename>.dat</filename> используются многими различными типами файлов СЗМ, этот подход является предпочтительным по сравнению с вариантами, основанными на анализе расширения файлов.</para>
    <para>Единственным исключением является импорт различных необработанных данных, как двумерных, так и графиков, которые должны быть выбраны явным образом в диалоге открытия файла. Смотрите раздел <link linkend="raw-file-import">Импорт файла с необработанными данными</link>, где описан импорт необработанных данных и извлечение вручную данных из неподдерживаемых форматов и <link linkend="specific-data-import">Импорт специфических данных</link>, где описывается импорт данных XYZ, двоичных изображений и файлов графиков.</para>
    <para>Список файлов в диалоге открытия можно ограничить только теми файлами, которые Gwyddion распознаёт как загружаемые включением опции <guilabel>Показать только загружаемые файлы</guilabel>. Метка типа файла при этом показывает фильтрацию добавлением <guilabel>(отфильтровано)</guilabel> к концу. Это нередко может оказаться удобным, но с другой стороны может замедлить доступ к каталогам с большим числом файлов.</para>
    <informalfigure id="fig-file-open-screenshot">
      <mediaobject>
        <imageobject>
          <imagedata fileref="file-open.png" format="PNG"/>
        </imageobject>
        <caption>Диалог открытия файла с открытыми опциями типа файла и предпросмотра каналов. Мелкий текст над предпросмотром указывает модуль, использованный чтобы загрузить этот файл (nt-mdt) и число каналов (ch), графиков (gr) и данных спектроскопии в точке (sps) в файле.</caption>
      </mediaobject>
    </informalfigure>
  </sect2>
  <sect2 id="file-merging">
    <title>Объединение файлов</title>
    <indexterm>
      <primary>файл</primary>
      <primary>объединение</primary>
    </indexterm>
    <para>Объединение файлов, проводимое с помощью меню <menuchoice><guimenu>Файл</guimenu><guisubmenu>Объединить</guisubmenu></menuchoice>, подобно нормальной загрузке файлов за исключением того, что выбранный файл (или файлы) присоединяется к текущему открытому файлу. Другими словами, каналы, графики и спектры вместе со всеми своими настройками и свойствами добавляются к уже присутствующим в текущем файле.</para>
  </sect2>
  <sect2 id="file-saving">
    <title>Сохранение файлов</title>
    <indexterm>
      <primary>файл</primary>
      <primary>сохранение</primary>
    </indexterm>
    <para>Большая часть предыдущих параграфов также применима к сохранению файлов. Одним из главных различий является надёжность автоматического определения типа файла. В то время, как при загрузке исследуется содержимое файла, сохранение полагается на имя файла и его расширение. В сочетании с большим числом различных типов файлов, использующих одно и то же расширение такое, как <filename>.img</filename>, <filename>.afm</filename> или <filename>.dat</filename> это приводит к неоднозначностям. Выберите тип файла вручную перед сохранением, если вы не уверены.</para>
    <para>Поскольку единственным типом файлов, который может полностью представить структуры данных Gwyddion является его родной формат файла, только сохранение в файл <filename>.gwy</filename> является правильным. Сохранение в другие форматы по существу представляет собой экспорт ограниченного подмножества данных, обычно только активного канала (без масок и презентаций). Следовательно, оно <emphasis>не</emphasis> меняет имя текущего файла на имя только что сохранённого.</para>
  </sect2>
  <sect2 id="document-history">
    <title>Предыдущие документы</title>
    <indexterm>
      <primary>файл</primary>
      <primary>недавно открытые</primary>
    </indexterm>
    <para>История недавно открытых файлов доступна в меню <menuchoice><guimenu>Файл</guimenu><guisubmenu>Последние документы</guisubmenu></menuchoice>. Подменю содержит последние десять недавно использованных файлов для быстрого вызова, более подробная история недавно открытых файлов доступна с помощью последнего пункта меню <guimenuitem>Предыдущие документы</guimenuitem>.</para>
    <para>
      Document history lists the files sorted by the last access time (the
      most recently accessed at the top), with previews and some additional
      information about a selected channel.  The function of the bottom row
      of buttons is following:
      <variablelist>
        <varlistentry>
          <term><guibutton>Prune</guibutton></term>
          <listitem>
            Removes history entries of files that have been deleted or are
            no longer accessible for other reasons.
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><guibutton>Close</guibutton></term>
          <listitem>
            Closes the document history window.
          </listitem>
        </varlistentry>
        <varlistentry>
          <term><guibutton>Open</guibutton></term>
          <listitem>
            Opens the selected file.  This can be also achieved by activating
            the selected row, either by double-clicking or with the keyboard.
          </listitem>
        </varlistentry>
      </variablelist>
    </para>
    <para>
      The history can be searched/filtered by file name using the filter
      controls above the buttons.  The filter is activated by pressing
      <keycap>Enter</keycap> in the filter pattern entry.  To display all
      history entries, clear the entry and activate it.  The filter pattern
      is interpreted in two ways:
      <itemizedlist>
        <listitem>
          If the pattern contains wildcards, i.e. <literal>*</literal> or
          <literal>?</literal>, it is interpreted as file glob.  This means
          <literal>?</literal> represents a signle arbitrary character,
          <literal>*</literal> represents an arbitrary sequence of zero or
          more characters, and the file name has to precisely match the
          pattern.  Note directory separators (<literal>/</literal> or
          <literal>\</literal>) are not treated specially, therefore in the
          pattern <literal>*.sis</literal> the initial <literal>*</literal>
          matches all leading directory components.  The pattern syntax is
          described in
          <ulink url="http://library.gnome.org/devel/glib/stable/glib-Glob-style-pattern-matching.html#glib-Glob-style-pattern-matching.description">GPatternSpec</ulink>
          documentation.
        </listitem>
        <listitem>
          If the pattern does not contain any wildcards, it is directly
          searched as a part of the file name.
        </listitem>
      </itemizedlist>
    </para>
    <para>Чувствительность поиска к регистру символов, управляемая опцией <guilabel>С учётом регистра</guilabel>, полезна в основном на системах, разделяющих регистр букв в именах файлов, таких как Unix. На системах не различающих самостоятельно регистр символов рекомендуется держать эту опцию выключенной.</para>
  </sect2>
</sect1>
<!-- vim: set ts=2 sw=2 et : -->
